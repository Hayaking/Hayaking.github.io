import{_ as n,V as e,W as _,X as l}from"./framework.591e63b2.js";const t={},o=l("ul",null,[l("li",null,"❎先更数据库，再更缓存"),l("li",null,"❎先更缓存，再更数据库"),l("li",null,"❎先删缓存，再更数据库"),l("li",null,"✔️先更数据库，再删缓存: 理论上这种情况是会出现缓存不一致的情况，但是在实际中发生的概率很低。因为数据库操作远比缓存操作要慢，除非是写缓存的服务gc时停顿的时间比较长,导致比数据库操作慢。")],-1),s=l("blockquote",null,[l("p",null,"可能会出现缓存不一致：a、b两个线程，a先读数据库数据，b更新数据库，a把旧数据写回到缓存")],-1),c=l("ul",null,[l("li",null,"✔️延迟双删(应该是最保险的)，先删缓存，然后更新数据库，最后等一会，再删缓存"),l("li",null,"单独写个程序订阅mysql binglog，有数据变更时，删除对应的缓存")],-1),u=[o,s,c];function i(a,r){return e(),_("div",null,u)}const f=n(t,[["render",i],["__file","缓存一致性.html.vue"]]);export{f as default};
